<!DOCTYPE html>
<html lang="tr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiÅŸiye Ã–zel Tarla Deneyimi - Ä°nteraktif Ä°ÅŸ PlanÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Earthy Harmony -->
    <!-- Application Structure Plan: The application is designed as a single-page, scrollable narrative. It starts with a strong hero section to grab attention, followed by a clear navigation bar for easy access to different parts of the plan. The structure is thematic, not linear like the report: 1. "NasÄ±l Ã‡alÄ±ÅŸÄ±r?" uses an interactive step-by-step diagram. 2. "Paketler" uses a tabbed interface for quick comparison and introduces AI-powered recipe suggestions based on selected packages. 3. "Size Ã–zel Bir Paket OluÅŸturalÄ±m mÄ±?" section allows users to describe their needs and get an AI-generated custom package suggestion. 4. "Finansal Analiz" features interactive charts to explore cost and profit scenarios. 5. "Deneyim" showcases the unique value propositions in a visually appealing grid. 6. "Hukuki Ã‡erÃ§eve" uses an accordion to make dense legal text manageable. This structure guides the user from the core concept to the details in an engaging and non-overwhelming way, prioritizing understanding and exploration over static reading, with new AI features enhancing personalization and utility. -->
    <!-- Visualization & Content Choices: 
    - Report Info: Financial numbers (cost, price). Goal: Compare & Inform. Viz: Interactive Bar & Donut Charts. Interaction: Toggles for min/max scenarios update charts. Justification: Dynamic charts make financial data more engaging and easier to digest than static numbers. Library: Chart.js (Canvas).
    - Report Info: How it works. Goal: Organize & Inform. Viz: Numbered step-by-step flow diagram. Interaction: Hover effects on steps. Justification: A visual flow is more intuitive than a block of text for explaining a process. Method: HTML/CSS/Tailwind.
    - Report Info: Package types. Goal: Compare. Viz: Tabbed content area + AI Recipe Suggestion. Interaction: Clicking tabs reveals package details, a button triggers an LLM call for a recipe based on the package. Justification: Tabs allow for direct comparison, and AI recipes add immediate value and interactivity. Method: HTML/JS, Chart.js (Canvas), Gemini API.
    - Report Info: Custom Package Suggestion. Goal: Inform & Personalize. Viz: Text input and display area. Interaction: User types needs, button triggers LLM call for custom package suggestion. Justification: Directly addresses user's potential desire for tailored options, showcasing AI's personalization capabilities. Method: HTML/JS, Gemini API.
    - Report Info: Legal framework. Goal: Organize. Viz: Accordion component. Interaction: Clicking to expand/collapse sections. Justification: Hides complexity and allows users to focus on one legal topic at a time. Method: HTML/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            color: #2C5F2D;
            border-bottom-color: #2C5F2D;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .tab-btn.active {
            background-color: #2C5F2D;
            color: #FFFFFF;
        }
        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-[#2C5F2D]">Tohumdan Sofraya</a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#nasil-calisir" class="nav-link pb-1">NasÄ±l Ã‡alÄ±ÅŸÄ±r?</a>
                <a href="#paketler" class="nav-link pb-1">Paketler</a>
                <a href="#ozel-paket" class="nav-link pb-1">Ã–zel Paket</a>
                <a href="#finansal-analiz" class="nav-link pb-1">Finansal Analiz</a>
                <a href="#deneyim" class="nav-link pb-1">Deneyim</a>
                <a href="#hukuki-cerceve" class="nav-link pb-1">Hukuki Ã‡erÃ§eve</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-2xl">â˜°</button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 flex flex-col space-y-4">
            <a href="#nasil-calisir" class="nav-link text-center">NasÄ±l Ã‡alÄ±ÅŸÄ±r?</a>
            <a href="#paketler" class="nav-link text-center">Paketler</a>
            <a href="#ozel-paket" class="nav-link text-center">Ã–zel Paket</a>
            <a href="#finansal-analiz" class="nav-link text-center">Finansal Analiz</a>
            <a href="#deneyim" class="nav-link text-center">Deneyim</a>
            <a href="#hukuki-cerceve" class="nav-link text-center">Hukuki Ã‡erÃ§eve</a>
        </div>
    </header>

    <main>
        <section id="hero" class="py-20 md:py-32 bg-green-50/50">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-bold text-[#2C5F2D] mb-4">Bu Sadece Sebze DeÄŸil, Sizin Hikayeniz.</h1>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Edirne'deki tarlamÄ±zda, adÄ±nÄ±za Ã¶zel bir parselde sizin iÃ§in en taze Ã¼rÃ¼nleri yetiÅŸtiriyor, hasat ediyor ve kapÄ±nÄ±za kadar gÃ¶nderiyoruz. Kendi Ã§iftliÄŸinizin keyfini Ã§Ä±karÄ±n, tÄ±rmÄ±k tutmadan.</p>
            </div>
        </section>

        <section id="nasil-calisir" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">SÃ¼reÃ§ NasÄ±l Ä°ÅŸliyor?</h2>
                    <p class="mt-4 text-gray-600 max-w-2xl mx-auto">DÃ¶rt basit adÄ±mda tohumdan sofranÄ±za uzanan taptaze bir deneyim sizi bekliyor. Her adÄ±mÄ± ÅŸeffaf bir ÅŸekilde takip edebilir, sÃ¼recin bir parÃ§asÄ± olabilirsiniz.</p>
                </div>
                <div class="grid md:grid-cols-4 gap-8 text-center">
                    <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                        <div class="text-4xl text-[#2C5F2D] mb-4">â‘ </div>
                        <h3 class="text-xl font-semibold mb-2">Parselini SeÃ§</h3>
                        <p class="text-gray-500">Size uygun paketi ve parsel bÃ¼yÃ¼klÃ¼ÄŸÃ¼nÃ¼ seÃ§erek maceranÄ±za ilk adÄ±mÄ± atÄ±n.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                        <div class="text-4xl text-[#2C5F2D] mb-4">â‘¡</div>
                        <h3 class="text-xl font-semibold mb-2">Biz Ekelim</h3>
                        <p class="text-gray-500">SeÃ§tiÄŸiniz Ã¼rÃ¼nleri uzman ekibimiz sizin iÃ§in Ã¶zenle eker ve bakÄ±mÄ±nÄ± yapar.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                        <div class="text-4xl text-[#2C5F2D] mb-4">â‘¢</div>
                        <h3 class="text-xl font-semibold mb-2">BÃ¼yÃ¼mesini Ä°zle</h3>
                        <p class="text-gray-500">UygulamamÄ±z Ã¼zerinden parselinizi canlÄ± izleyin, Ã¼rÃ¼nlerinizin bÃ¼yÃ¼me gÃ¼nlÃ¼ÄŸÃ¼nÃ¼ takip edin.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                        <div class="text-4xl text-[#2C5F2D] mb-4">â‘£</div>
                        <h3 class="text-xl font-semibold mb-2">Tazecik Gelsin</h3>
                        <p class="text-gray-500">Hasat edilen taptaze Ã¼rÃ¼nlerinizi soÄŸuk zincir ile haftalÄ±k olarak kapÄ±nÄ±za teslim edelim.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="paketler" class="py-16 md:py-24 bg-green-50/50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Size Ã–zel Sezon Paketleri</h2>
                    <p class="mt-4 text-gray-600 max-w-2xl mx-auto">FarklÄ± ihtiyaÃ§ ve zevklere gÃ¶re Ã¶zenle hazÄ±rladÄ±ÄŸÄ±mÄ±z sezonluk paketlerimizden birini seÃ§in. Dilerseniz ufak deÄŸiÅŸiklikler yapabilirsiniz.</p>
                </div>
                <div>
                    <div class="flex justify-center mb-8 border-b border-gray-200">
                        <button class="tab-btn py-3 px-6 text-lg font-medium text-gray-500 transition-colors duration-300 active" data-tab="aile" data-ingredients="domates, salatalÄ±k, biber, marul, maydanoz, patates, soÄŸan">Aile Sezonu</button>
                        <button class="tab-btn py-3 px-6 text-lg font-medium text-gray-500 transition-colors duration-300" data-tab="gurme" data-ingredients="heirloom domates, mini biberler, taze fesleÄŸen, kekik, roka">Gurme</button>
                        <button class="tab-btn py-3 px-6 text-lg font-medium text-gray-500 transition-colors duration-300" data-tab="detoks" data-ingredients="yeÅŸil yapraklÄ±lar, havuÃ§, pancar, brokoli, salatalÄ±k, dereotu">Detoks/Bebek</button>
                    </div>
                    <div id="tab-content" class="max-w-4xl mx-auto">
                        <div id="aile" class="tab-pane">
                            <div class="bg-white p-8 rounded-lg shadow-md flex flex-col md:flex-row items-center gap-8">
                                <div class="text-5xl">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
                                <div>
                                    <h3 class="text-2xl font-bold text-[#2C5F2D] mb-2">Aile Sezonu Paketi</h3>
                                    <p class="text-gray-600 mb-4">SofralarÄ±n vazgeÃ§ilmezi temel sebzeler. Domates, salatalÄ±k, biber, taze yeÅŸillikler ve kÃ¶k sebzelerle dolu, tÃ¼m ailenin seveceÄŸi bir paket.</p>
                                    <p class="font-semibold text-gray-700">Hedef Kitle: SaÄŸlÄ±klÄ± beslenmeye Ã¶nem veren aileler.</p>
                                </div>
                            </div>
                        </div>
                        <div id="gurme" class="tab-pane hidden">
                            <div class="bg-white p-8 rounded-lg shadow-md flex flex-col md:flex-row items-center gap-8">
                                <div class="text-5xl">ğŸ§‘â€ğŸ³</div>
                                <div>
                                    <h3 class="text-2xl font-bold text-[#2C5F2D] mb-2">Gurme Paketi</h3>
                                    <p class="text-gray-600 mb-4">Mutfakta harikalar yaratmayÄ± sevenler iÃ§in. Heirloom domatesler, aromatik biberler, Ã¶zel taze otlar ve ÅŸeflerin favorisi diÄŸer lezzetler.</p>
                                    <p class="font-semibold text-gray-700">Hedef Kitle: Butik restoranlar, ÅŸefler ve yemek tutkunlarÄ±.</p>
                                </div>
                            </div>
                        </div>
                        <div id="detoks" class="tab-pane hidden">
                            <div class="bg-white p-8 rounded-lg shadow-md flex flex-col md:flex-row items-center gap-8">
                                <div class="text-5xl">ğŸ§˜â€â™€ï¸</div>
                                <div>
                                    <h3 class="text-2xl font-bold text-[#2C5F2D] mb-2">Detoks/Bebek Paketi</h3>
                                    <p class="text-gray-600 mb-4">Hafif ve besleyici seÃ§enekler. Bolca yeÅŸillik, havuÃ§, pancar, brokoli gibi vitamin deposu, pestisitsiz Ã¼rÃ¼nler.</p>
                                    <p class="font-semibold text-gray-700">Hedef Kitle: SaÄŸlÄ±k ve spor odaklÄ± bireyler, bebekli aileler.</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 p-6 bg-white rounded-lg shadow-md">
                            <h3 class="text-xl font-semibold text-[#2C5F2D] mb-4">âœ¨ Bu Paketle Ne PiÅŸirebilirim?</h3>
                            <p class="text-gray-600 mb-4">SeÃ§tiÄŸiniz paketteki Ã¼rÃ¼nlerle hazÄ±rlanabilecek pratik ve lezzetli tarif Ã¶nerileri alÄ±n!</p>
                            <button id="get-recipe-btn" class="bg-[#2C5F2D] text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors duration-300">âœ¨ Tarif OluÅŸtur</button>
                            <div id="recipe-output" class="mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200 min-h-[100px] text-gray-700 whitespace-pre-wrap">Burada tarifiniz belirecek...</div>
                            <div id="recipe-loading" class="hidden text-center mt-4">
                                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-[#2C5F2D] mx-auto"></div>
                                <p class="text-gray-500">Tarif yÃ¼kleniyor...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ozel-paket" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">âœ¨ Size Ã–zel Bir Paket OluÅŸturalÄ±m mÄ±?</h2>
                    <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Ailenizin bÃ¼yÃ¼klÃ¼ÄŸÃ¼nÃ¼, diyet tercihlerinizi, sevdiÄŸiniz veya sevmediÄŸiniz sebzeleri bize anlatÄ±n, size Ã¶zel bir Ã¼rÃ¼n paketi oluÅŸturalÄ±m.</p>
                </div>
                <div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md">
                    <textarea id="package-prompt" class="w-full p-3 border border-gray-300 rounded-lg mb-4 h-32 focus:outline-none focus:ring-2 focus:ring-[#2C5F2D]" placeholder="Ã–rn: 4 kiÅŸilik bir aileyiz, Ã§ocuklar biber sevmez ama domatese bayÄ±lÄ±r. Annem glutensiz besleniyor, babam sporcu."></textarea>
                    <button id="get-package-suggestion-btn" class="bg-[#2C5F2D] text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors duration-300">âœ¨ Paket Ã–nerisi Al</button>
                    <div id="package-suggestion-output" class="mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200 min-h-[100px] text-gray-700 whitespace-pre-wrap">Burada paket Ã¶neriniz belirecek...</div>
                    <div id="package-suggestion-loading" class="hidden text-center mt-4">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-[#2C5F2D] mx-auto"></div>
                        <p class="text-gray-500">Paket Ã¶nerisi yÃ¼kleniyor...</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="finansal-analiz" class="py-16 md:py-24 bg-green-50/50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Finansal Analiz: Rakamlarla DeÄŸer</h2>
                    <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Ä°ÅŸ modelimizin finansal potansiyelini interaktif grafiklerle keÅŸfedin. Kutu baÅŸÄ±na maliyet, fiyatlandÄ±rma ve kÃ¢r marjÄ± senaryolarÄ±nÄ± inceleyin.</p>
                </div>
                <div class="flex justify-center mb-8">
                    <div class="bg-gray-200 p-1 rounded-full flex items-center">
                        <button id="scenario-min" class="px-4 py-2 text-sm font-semibold rounded-full bg-white text-[#2C5F2D] shadow">Minimum Senaryo</button>
                        <button id="scenario-max" class="px-4 py-2 text-sm font-semibold rounded-full">Maksimum Senaryo</button>
                    </div>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div>
                        <h3 class="text-xl font-semibold text-center mb-4">Kutu BaÅŸÄ±na Fiyat vs. Maliyet</h3>
                        <div class="chart-container">
                            <canvas id="profitChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-center mb-4">Maliyet DaÄŸÄ±lÄ±mÄ±</h3>
                        <div class="chart-container">
                            <canvas id="costChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="deneyim" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Deneyimi MÃ¼kemmelleÅŸtirmek</h2>
                    <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Sadece Ã¼rÃ¼n deÄŸil, unutulmaz bir deneyim sunuyoruz. MÃ¼ÅŸteri kendini Ã§iftÃ§i gibi hisseder ama tÄ±rmÄ±k tutmaz.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-semibold text-lg text-[#2C5F2D] mb-2">ğŸŒ¿ KiÅŸisel Ä°simlendirme</h3>
                        <p class="text-gray-600">Parsellere numara yerine "AyÅŸe HanÄ±m'Ä±n Domates BahÃ§esi" gibi Ã¶zel isimler veriyoruz.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-semibold text-lg text-[#2C5F2D] mb-2">ğŸ“¹ CanlÄ± Kamera</h3>
                        <p class="text-gray-600">Uygulamadan parselinizi 7/24 canlÄ± izleyerek Ã¼rÃ¼nlerinizin bÃ¼yÃ¼mesine tanÄ±klÄ±k edin.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-semibold text-lg text-[#2C5F2D] mb-2">ğŸ“ Ekim GÃ¼nlÃ¼ÄŸÃ¼</h3>
                        <p class="text-gray-600">Ekimden hasada kadar tÃ¼m sÃ¼reci fotoÄŸraflÄ± "bÃ¼yÃ¼me gÃ¼nlÃ¼ÄŸÃ¼" ile takip edin.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-semibold text-lg text-[#2C5F2D] mb-2">ğŸ KiÅŸisel DokunuÅŸ</h3>
                        <p class="text-gray-600">Her kutuya "Bu hafta domatesler gÃ¼neÅŸi bol gÃ¶rdÃ¼" gibi size Ã¶zel notlar ekliyoruz.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-semibold text-lg text-[#2C5F2D] mb-2">ğŸ‰ VIP Deneyimler</h3>
                        <p class="text-gray-600">Hasat gÃ¼nÃ¼ davetleri ve Ã§ocuklar iÃ§in tohum ekme atÃ¶lyeleri gibi Ã¶zel etkinlikler dÃ¼zenliyoruz.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-semibold text-lg text-[#2C5F2D] mb-2">ğŸ¤ Topluluk Hissi</h3>
                        <p class="text-gray-600">"Parselseverler" grubumuzda diÄŸer Ã¼yelerle tanÄ±ÅŸÄ±n, deneyimlerinizi paylaÅŸÄ±n.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="hukuki-cerceve" class="py-16 md:py-24 bg-green-50/50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Hukuki Ã‡erÃ§eve ve GÃ¼vence</h2>
                    <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Ä°ÅŸ modelimiz, hem sizi hem de bizi koruyan saÄŸlam bir hukuki zemin Ã¼zerine kurulmuÅŸtur. KarmaÅŸÄ±k yasal bilgileri anlaÅŸÄ±lÄ±r baÅŸlÄ±klar altÄ±nda topladÄ±k.</p>
                </div>
                <div class="max-w-3xl mx-auto space-y-4">
                    <div class="accordion-item bg-white rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-gray-700">
                            Modelin Hukuki NiteliÄŸi
                            <span class="accordion-icon transition-transform duration-300">â–¼</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <p class="p-5 pt-0 text-gray-600">Bu bir toprak mÃ¼lkiyeti devri veya kiralama deÄŸil, bir **hizmet ve Ã¼rÃ¼n saÄŸlama sÃ¶zleÅŸmesidir**. MÃ¼ÅŸteri, parselin mÃ¼lkiyetini deÄŸil, o parselde Ã¼retilen Ã¼rÃ¼nlerin sezonluk hakkÄ±nÄ± satÄ±n alÄ±r. Bu nedenle tapu/kadastro mevzuatÄ±na girmez.</p>
                        </div>
                    </div>
                    <div class="accordion-item bg-white rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-gray-700">
                            Kritik Yasal Belgeler
                            <span class="accordion-icon transition-transform duration-300">â–¼</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <ul class="p-5 pt-0 text-gray-600 list-disc list-inside space-y-2">
                                <li>**Sezonluk Ãœretim ve Teslim SÃ¶zleÅŸmesi:** Parselin sembolik tanÄ±mÄ±nÄ±, riskleri ve politikalarÄ± iÃ§erir.</li>
                                <li>**Mesafeli SatÄ±ÅŸ SÃ¶zleÅŸmesi:** Online sipariÅŸler iÃ§in zorunludur, cayma hakkÄ± istisnasÄ±nÄ± belirtir.</li>
                                <li>**KVKK AydÄ±nlatma Metni:** MÃ¼ÅŸteri verilerinin iÅŸlenmesi ve kamera gÃ¶rÃ¼ntÃ¼leri iÃ§in gereklidir.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="accordion-item bg-white rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-5 text-left font-semibold text-gray-700">
                            Dikkat Edilmesi Gerekenler
                            <span class="accordion-icon transition-transform duration-300">â–¼</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                             <ul class="p-5 pt-0 text-gray-600 list-disc list-inside space-y-2">
                                <li>"Kiralama" yerine **"sezonluk tahsis"** gibi ifadeler kullanÄ±lmalÄ±dÄ±r.</li>
                                <li>**SertifikasÄ±z "organik" kelimesi kullanÄ±lmamalÄ±dÄ±r.** "Ä°yi TarÄ±m UygulamalarÄ±" ile baÅŸlanabilir.</li>
                                <li>Her teslimatta parti no, hasat tarihi gibi bilgiler yer almalÄ±dÄ±r.</li>
                                <li>DoÄŸal afetlere karÅŸÄ± **TARSÄ°M sigortasÄ±** yaptÄ±rÄ±lmalÄ±dÄ±r.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 Tohumdan Sofraya. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
            <p class="text-sm text-gray-400 mt-2">Bu interaktif iÅŸ planÄ±, bir iÅŸ fikrini sunmak amacÄ±yla oluÅŸturulmuÅŸtur.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('main section');
    const headerHeight = document.getElementById('header').offsetHeight;

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, { rootMargin: `-${headerHeight}px 0px 0px 0px`, threshold: 0.4 });

    sections.forEach(section => {
        observer.observe(section);
    });
    
    const tabButtons = document.querySelectorAll('.tab-btn');
    const tabPanes = document.querySelectorAll('.tab-pane');
    const getRecipeBtn = document.getElementById('get-recipe-btn');
    const recipeOutput = document.getElementById('recipe-output');
    const recipeLoading = document.getElementById('recipe-loading');

    let currentIngredients = document.querySelector('.tab-btn.active').getAttribute('data-ingredients');

    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            tabButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            const targetTab = button.getAttribute('data-tab');
            currentIngredients = button.getAttribute('data-ingredients');
            
            tabPanes.forEach(pane => {
                if (pane.id === targetTab) {
                    pane.classList.remove('hidden');
                } else {
                    pane.classList.add('hidden');
                }
            });
            recipeOutput.textContent = 'Burada tarifiniz belirecek...';
        });
    });

    getRecipeBtn.addEventListener('click', async () => {
        recipeOutput.textContent = '';
        recipeLoading.classList.remove('hidden');
        const prompt = `${currentIngredients} iÃ§eren, aileye uygun, pratik bir yemek tarifi Ã¶nerir misin?`;
        const recipe = await callGeminiAPI(prompt);
        recipeOutput.textContent = recipe;
        recipeLoading.classList.add('hidden');
    });

    const packagePromptInput = document.getElementById('package-prompt');
    const getPackageSuggestionBtn = document.getElementById('get-package-suggestion-btn');
    const packageSuggestionOutput = document.getElementById('package-suggestion-output');
    const packageSuggestionLoading = document.getElementById('package-suggestion-loading');

    getPackageSuggestionBtn.addEventListener('click', async () => {
        const userDescription = packagePromptInput.value.trim();
        if (!userDescription) {
            packageSuggestionOutput.textContent = 'LÃ¼tfen ihtiyaÃ§larÄ±nÄ±zÄ± girin.';
            return;
        }

        packageSuggestionOutput.textContent = '';
        packageSuggestionLoading.classList.remove('hidden');
        const prompt = `Åu aÃ§Ä±klamaya gÃ¶re kiÅŸiye Ã¶zel bir sebze paketi Ã¶nerisi hazÄ±rla: "${userDescription}". Ã–nerinde paketin iÃ§eriÄŸini ve neden bu kiÅŸilere uygun olduÄŸunu belirt.`;
        const suggestion = await callGeminiAPI(prompt);
        packageSuggestionOutput.textContent = suggestion;
        packageSuggestionLoading.classList.add('hidden');
    });

    const accordionHeaders = document.querySelectorAll('.accordion-header');
    accordionHeaders.forEach(header => {
        header.addEventListener('click', () => {
            const content = header.nextElementSibling;
            header.classList.toggle('active');
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        });
    });

    const financialData = {
        min: {
            price: 800,
            cost: 475,
            costBreakdown: {
                labels: ['Lojistik', 'Paketleme', 'Ä°ÅŸÃ§ilik', 'Ãœretim'],
                data: [180, 35, 120, 140],
            }
        },
        max: {
            price: 1100,
            cost: 695,
            costBreakdown: {
                labels: ['Lojistik', 'Paketleme', 'Ä°ÅŸÃ§ilik', 'Ãœretim'],
                data: [260, 55, 160, 220],
            }
        }
    };

    const chartOptions = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                position: 'bottom',
            },
            tooltip: {
                callbacks: {
                    label: function(context) {
                        return `${context.label}: ${context.raw.toLocaleString('tr-TR')} TL`;
                    }
                }
            }
        }
    };

    const profitCtx = document.getElementById('profitChart').getContext('2d');
    const profitChart = new Chart(profitCtx, {
        type: 'bar',
        data: {
            labels: ['Senaryo'],
            datasets: [
                {
                    label: 'Maliyet',
                    data: [financialData.min.cost],
                    backgroundColor: '#FFB3B3',
                    borderColor: '#FF8080',
                    borderWidth: 1
                },
                {
                    label: 'Fiyat',
                    data: [financialData.min.price],
                    backgroundColor: '#C1E1C1',
                    borderColor: '#90EE90',
                    borderWidth: 1
                }
            ]
        },
        options: { ...chartOptions, scales: { y: { beginAtZero: true, ticks: { callback: value => `${value} TL` } } } }
    });

    const costCtx = document.getElementById('costChart').getContext('2d');
    const costChart = new Chart(costCtx, {
        type: 'doughnut',
        data: {
            labels: financialData.min.costBreakdown.labels,
            datasets: [{
                data: financialData.min.costBreakdown.data,
                backgroundColor: ['#FFC3A0', '#FFDAB9', '#FFFACD', '#E6E6FA'],
                hoverOffset: 4
            }]
        },
        options: chartOptions
    });

    const scenarioMinBtn = document.getElementById('scenario-min');
    const scenarioMaxBtn = document.getElementById('scenario-max');

    function updateCharts(scenario) {
        profitChart.data.datasets[0].data = [financialData[scenario].cost];
        profitChart.data.datasets[1].data = [financialData[scenario].price];
        profitChart.update();

        costChart.data.datasets[0].data = financialData[scenario].costBreakdown.data;
        costChart.update();
    }

    scenarioMinBtn.addEventListener('click', () => {
        updateCharts('min');
        scenarioMinBtn.classList.add('bg-white', 'text-[#2C5F2D]', 'shadow');
        scenarioMaxBtn.classList.remove('bg-white', 'text-[#2C5F2D]', 'shadow');
    });

    scenarioMaxBtn.addEventListener('click', () => {
        updateCharts('max');
        scenarioMaxBtn.classList.add('bg-white', 'text-[#2C5F2D]', 'shadow');
        scenarioMinBtn.classList.remove('bg-white', 'text-[#2C5F2D]', 'shadow');
    });

    async function callGeminiAPI(prompt) {
        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
        const payload = { contents: chatHistory };
        const apiKey = "";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        let response;
        let result;
        let retries = 0;
        const maxRetries = 3;
        const baseDelay = 1000;

        while (retries < maxRetries) {
            try {
                response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                result = await response.json();

                if (response.ok) {
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        console.error("Gemini API'den beklenen yanÄ±t yapÄ±sÄ± gelmedi:", result);
                        return "ÃœzgÃ¼nÃ¼m, bir sorun oluÅŸtu. LÃ¼tfen tekrar deneyin.";
                    }
                } else if (response.status === 429) {
                    retries++;
                    const delay = baseDelay * Math.pow(2, retries - 1);
                    await new Promise(resolve => setTimeout(resolve, delay));
                } else {
                    console.error(`Gemini API hatasÄ±: ${response.status} - ${response.statusText}`, result);
                    return "ÃœzgÃ¼nÃ¼m, bir sorun oluÅŸtu. LÃ¼tfen tekrar deneyin.";
                }
            } catch (error) {
                console.error("Gemini API Ã§aÄŸrÄ±lÄ±rken bir hata oluÅŸtu:", error);
                return "ÃœzgÃ¼nÃ¼m, bir sorun oluÅŸtu. LÃ¼tfen tekrar deneyin.";
            }
        }
        return "API Ã§aÄŸrÄ±sÄ± Ã§ok fazla denemeden sonra baÅŸarÄ±sÄ±z oldu. LÃ¼tfen daha sonra tekrar deneyin.";
    }
});
</script>

</body>
</html>
